@tailwind base;
@tailwind components;
@tailwind utilities;

:root { color-scheme: light dark; }
html, body, #root { height: 100%; }
html { scroll-behavior: smooth; }
body { @apply antialiased; font-family: Poppins, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; }
.prose h1, .prose h2, .prose h3, .prose h4 { font-family: "Playfair Display", ui-serif, Georgia, Cambria, "Times New Roman", Times, serif; }
.container { @apply mx-auto px-4 sm:px-6 lg:px-8; }
.btn { @apply inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium bg-ahc-green text-black hover:brightness-95 transition; }
.card { @apply rounded-xl border border-slate-200 bg-white shadow-sm; }

/* Dark mode base */
.dark body { background-color: #0B0F19; color: #E5E7EB; }
.dark .prose { color: #CBD5E1; }
.dark .card { background-color: #0f172a; border-color: #1f2937; }
.dark .btn { color: #0b0f19; }
.dark input, .dark select, .dark textarea { background-color: #0b1220; border-color: #263042; color: #E5E7EB; }
.dark input::placeholder { color: #94A3B8; }
/* Remove unwanted white backgrounds in rich text areas on dark */
.dark .prose-no-bg *, .dark .prose-no-bg pre, .dark .prose-no-bg code, .dark .prose-no-bg blockquote, .dark .prose-no-bg table, .dark .prose-no-bg th, .dark .prose-no-bg td {
  background-color: transparent !important;
}
/* Force readable text colors inside injected HTML on dark mode */
.dark .prose-no-bg,
.dark .prose-no-bg :is(p, li, span, strong, em, blockquote, td, th, code, pre) {
  color: #E5E7EB !important;
}
.dark .prose-no-bg h1, .dark .prose-no-bg h2, .dark .prose-no-bg h3, .dark .prose-no-bg h4, .dark .prose-no-bg h5, .dark .prose-no-bg h6 {
  color: #F1F5F9 !important;
}
.dark .prose-no-bg a { color: #7AC943 !important; }

/* Link underline animation */
.link-underline { position: relative; display: inline-block; }
.link-underline::after {
  content: "";
  position: absolute;
  left: 0; bottom: -2px;
  height: 2px; width: 100%;
  background: currentColor;
  transform: scaleX(0);
  transform-origin: left;
  transition: transform .25s ease;
  opacity: .6;
}
.link-underline:hover::after { transform: scaleX(1); }

/* Card micro-interaction */
.card-hover { transition: transform .2s ease, box-shadow .2s ease; }
.card-hover:hover { transform: translateY(-2px); box-shadow: 0 10px 24px -8px rgba(0,0,0,.15); }

/* Marquee animation */
@keyframes marquee-left {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
.marquee {
  overflow: hidden;
  position: relative;
}
.marquee-inner {
  display: flex;
  width: 200%;
  animation: marquee-left 20s linear infinite;
}
.spin-slow { animation: spin 8s linear infinite; }

@keyframes fade-slide-up {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}
@keyframes fade-in {
  0% { opacity: 0; }
  100% { opacity: 1; }
}
@keyframes float-soft {
  0% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
  100% { transform: translateY(0); }
}

/* Apply subtle page entry animation */
body { animation: fade-slide-up .45s ease-out; }

/* Helper classes for components */
.animate-page { animation: fade-slide-up .5s ease-out both; }
.animate-soft { animation: float-soft 6s ease-in-out infinite; }
.animate-fade { animation: fade-in .6s ease-out both; }

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; }
  html { scroll-behavior: auto; }
}
